var $trancheCollectionHolder = $('div.tranches')

if ($trancheCollectionHolder.length > 0) {
    $trancheCollectionHolder.uiInitCollectionHolder({
        autoCreate: true,
        feeCollectionHolderSelector: 'div.tranche-fees:last'
    })

    if ($trancheCollectionHolder.children('div').length > 0) {
        $trancheCollectionHolder.children('div').each(function () {
            $(this).uiInitCollectionForm()

            var $trancheFeeCollectionHolder = $(this).find('div.tranche-fees:last')

            if ($trancheFeeCollectionHolder.length > 0) {
                $trancheFeeCollectionHolder.uiInitCollectionHolder()

                if ($trancheFeeCollectionHolder.children('div').length > 0) {
                    $trancheFeeCollectionHolder.children('div').each(function () {
                        $(this).uiInitCollectionForm()
                    })
                }
            }
        })
    }
}
