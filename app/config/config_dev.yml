imports:
    - { resource: config.yml }

monolog:
    channels: [console]
    handlers:
        error:
            type: fingers_crossed
            action_level: error
            handler: error_handler
        error_handler:
            type: group
            members: [file_error]
#            members: [file_error, slack_error]
        file_error:
            type: rotating_file
            level: error
            path: "%kernel.logs_dir%/error.%kernel.environment%.log"
            max_files: 90
            date_format: 'Ymd'
            file_permission: 0664
#        slack_error:
#            type: slack
#            level: error
#            token: xoxb-54621264262-6EXEn7g59rpWe7vDxzHht5z5
#            channel: '#it-releases'
#            bot_name: 'Symfony Bot'

        console:
            type: fingers_crossed
            action_level: debug
            handler: console_handler
        filter_console:
            type: filter
            handler: console
            max_level: warning
            channels: console
        console_handler:
            type: group
            members: [console_console]
        file_console:
            type: rotating_file
            path: "%kernel.logs_dir%/console.%kernel.environment%.log"
            level: debug
            max_files: 90
            file_permission: 0664
            date_format: 'Ymd'
        console_console:
            type: console

        site:
            type: fingers_crossed
            action_level: debug
            handler: site_handler
        filter_site:
            type: filter
            handler: site
            max_level: warning
            channels: !console
        site_handler:
            type: rotating_file
            level: debug
            path: "%kernel.logs_dir%/site.%kernel.environment%.log"
            max_files: 90
            file_permission: 0664
            date_format: 'Ymd'