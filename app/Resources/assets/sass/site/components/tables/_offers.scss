//
// Unilend Table Offers
//

// My Offers
.table-myoffers {
  tr {
    background-color: $c-purple-l2;
    border-bottom: solid 2px $c-white;
    color: $c-p1;
  }

  // Make rejected look dull
  #myoffers-rejected & {
    tr {
      background-color: $c-bg3;
      color: $c-t2;
    }
  }
}

.table-myoffers-item-id {
  width: 25%;
  text-align: left;
}

.table-myoffers-item-rate {
  width: 25%;
  text-align: left;
}

.table-myoffers-item-amount {
  width: 30%;
  text-align: right;
}

.table-myoffers-item-view {
  width: 20%;
  padding-left: 0;
  padding-right: 0;

  a {
    display: block;
    text-align: center;
  }
}

// All offers
.table-alloffers {
  tbody {
    tr {
      // Accepted
      &[data-sortable-status="2"],
      // Autolend Accepted
      &[data-sortable-status="4"] {
        .icon {
          color: $c-p1;
        }
      }

      // Rejected
      &[data-sortable-status="3"] {
        color: $c-t3;
      }
    }
  }

  td.table-alloffers-item-status {
    .icon {
      font-size: 28px;
    }
  }

  td.table-more {
    background-color: $c-bg2;
    text-align: center;

    a {
      display: block;
      padding-top: 10px;
      padding-bottom: 5px;
    }
  }
}

.table-alloffers-item-id {
  width: 20%;
  // padding-left: 40px;
  text-align: left;
}

.table-alloffers-item-rate {
  width: 30%;
  text-align: right;
}

.table-alloffers-item-amount {
  width: 30%;
  text-align: right;
}

.table-alloffers-item-status {
  width: 20%;
  text-align: right;
}

// All offers overview
.table-alloffersoverview {
  $c-bg: #5fc3cf;
  $c-bg-l: #daf6f8;

  tbody tr {
    &.table-alloffersoverview-item-recommended,
    &.table-alloffersoverview-item-max {
      background-color: $c-bg-l;
      color: darken($c-bg, 10%);

      .table-alloffersoverview-item-myoffers {
        color: darken($c-bg, 10%);
      }
    }

    &.table-alloffersoverview-item-best {
      background-color: $c-bg;
      color: $c-white;

      .table-alloffersoverview-item-myoffers {
        color: $c-white;
      }
    }
  }

  // @note the design asked for this, but it doesn't really work with all the sortable columns
  // &#{$js-sortable-direction-asc} tbody tr.table-alloffersoverview-item-max {
  //   background-color: transparent;
  //   @include background-image(-svg(linear-gradient(to bottom, $c-bg-l 0%, fade-out($c-bg-l, 1) 100%)));
  //   border-bottom: dotted 1px $c-bg;
  // }

  // &#{$js-sortable-direction-desc} tbody tr.table-alloffersoverview-item-max {
  //   background-color: transparent;
  //   @include background-image(-svg(linear-gradient(to bottom, fade-out($c-bg-l, 1) 0%, $c-bg-l 100%)));
  //   border-top: dotted 1px $c-bg;
  // }
}

.table-alloffersoverview-item-rate {
  width: 20%;
  text-align: left;
}

.table-alloffersoverview-item-amount {
  width: 28%;
  text-align: right;
}

.table-alloffersoverview-item-offers {
  width: 22%;
  text-align: right;
}

.table-alloffersoverview-item-accepted {
  width: 30%;
  text-align: right;
}

.table-alloffersoverview-item-myoffers {
  color: $c-p1;
  display: block;
  clear: both;
  text-align: right;

  @include devices('md', 'lg') {
    clear: none;
    float: left;
    text-align: left;
  }
}

// Single row item in the offers overview table
.table-alloffersoverview {
  // Accepted
  .total-offers-accepted {
    color: $c-p1;

    &:before {
      content: $fa-check-u;
      display: inline-block;
      margin-right: 3px;
      font-family: $ff-icon;
    }
  }

  tr {
    // Button to show all rejected offers
    &.view-rejected-rows {
      background-color: $c-bg3 !important;

      > td {
        height: 50px;
        color: $c-p1;
        text-align: center;
        vertical-align: middle;

        a {
          display: block;
        }
      }
    }

    // Normal rate row
    &.rate-row {
      cursor: pointer;

      &:hover {
        background-color: $c-bg2;
      }

      // Rate with angle to show if open/closed
      .bids-row-rate {
        display: inline-block;
        min-width: 80px;
        position: relative;
        padding-right: 20px;

        &:after {
          content: $fa-caret-r-u16;
          display: inline-block;

          position: absolute;
          right: 0;
          top: 0;

          color: $c-t3;
          font-family: $ff-icon;
          font-size: 14px;

          transition: transform 0.2s;
        }
      }

      // Row is active
      &.active-row {
        background-color: $c-p1 !important;
        color: $c-white;

        &:hover {
          background-color: $c-p1-hover;
        }

        .bids-row-rate {
          &:after {
            color: inherit;
            transform: rotate(90deg);
          }
        }

        .total-offers-accepted {
          color: inherit;
        }
      }

      // Row is rejected
      &.rejected-row {
        display: none;
        background-color: mix($c-red, $c-white, 10%) !important;
        color: $c-t2;

        &:nth-of-type(2n+1) {
          background-color: mix($c-red, $c-white, 8%) !important;
        }

        .total-offers-accepted {
          color: $c-red;

          &:before {
            content: $fa-ban-u;
          }
        }

        &:hover {
          background-color: mix($c-red, $c-white, 12%) !important;
        }

        // Rejected and active
        &.active-row {
          background-color: $c-red !important;
          color: $c-white;

          .total-offers-accepted {
            color: inherit;
          }
        }
      }
    }
  }
}
