{% extends 'layouts/_layout_lender.html.twig' %}

{% set page = {
id: 'user-preter-sponsorship',
classNames: 'user-preter-sponsorship'
} %}

{% set fbAppId = '34234234234' %}
{% set sponsorLink = 'https://unilend.fr/fdkfj24' %}
{% set sponsorNames = 'John Malkovich' %}
{% set shareText = 'Check out Unilend' %} 
{% set shareTitle = 'Unilend - Crédit professionnel financé par les particuliers' %}

{% block dashboardContent %}
    <div class="dashboard-tabs tabs">
        <div class="dashboard-tabs-content tab-content">
            <div role="tabpanel" class="dashboard-tab-pane tab-pane active">
                <article class="panel" id="user-preter-sponsorship-intro">
                    <header class="panel-header">
                        <h3 class="margin-10-b">{% trans %} lender-dashboard-sponsorship_title {% endtrans %}</h3>
                    </header><!-- .panel-header -->
                    <div class="row">
                        <div class="col-md-10 col-lg-10">

                            <p class="margin-10-b">{% trans with {'%sponsorLink%': sponsorLink} %} lender-dashboard-sponsorship_offer-description {% endtrans %}</p>
                        </div>
                    </div>
                </article>
                <article class="panel" id="user-preter-sponsorship-email">
                    <h4 class="remove-margin-t">{% trans %} lender-dashboard-sponsorship_section-send-title {% endtrans %}</h4>
                    <div class="row">
                        <div class="col-md-10 col-lg-10">
                            <form id="form-sponsorship" action="" method="post" data-formvalidation>
                                <div id="form-sponsorship-notifications">
                                <div class="message-success">
                                <span>{% trans %} lender-dashboard-sponsorship_section-send-success {% endtrans %}</span>
                                </div>
                                <div class="message-error">
                                <span>Error 1</span>
                                <span>Error 2</span>
                                </div>
                                </div>
                                <div class="row row-multi-col-computer">
                                    <div class="col-md-6 col-lg-6">
                                        <div class="form-field">
                                            <label for="form-sponsorship-sponsee-email">{% trans %} lender-dashboard-sponsorship_section-send-label-email {% endtrans %} <span class="c-p1">*</span></label>
                                            <div class="input-group set-left">
                                                <div class="btn-group">
                                                    <span class="icon fa-envelope-o"></span>
                                                </div>
                                                <input type="email" id="form-sponsorship-sponsee-email" name="sponsee-email" value="" class="input-field" data-formvalidation-input data-formvalidation-required="true">
                                            </div>
                                            {#<div class="field-help">#}
                                            {#<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam imperdiet ultricies felis et pulvinar.</p>#}
                                            {#</div>#}
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-6">
                                        <div class="form-field">
                                            <label for="form-sponsorship-sponsee-names">{% trans %} lender-dashboard-sponsorship_section-send-label-names {% endtrans %} <span class="c-p1">*</span></label>
                                            <input type="text" id="form-sponsorship-sponsee-names" name="sponsee-names" value="" class="input-field" data-formvalidation-input data-formvalidation-required="true">
                                            {#<div class="field-help">#}
                                            {#<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam imperdiet ultricies felis et pulvinar.</p>#}
                                            {#</div>#}
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8 col-md-12 col-lg-12">
                                        <div class="form-field">
                                            <label for="form-sponsorship-message">{% trans %} lender-dashboard-sponsorship_section-send-label-message {% endtrans %}</label>
                                            <textarea id="form-sponsorship-message" name="sponsor-message" class="input-field" rows="6"></textarea>
                                            {#<div class="field-help">#}
                                            {#<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam imperdiet ultricies felis et pulvinar.</p>#}
                                            {#</div>#}
                                        </div>
                                    </div>
                                </div>

                                <p>
                                    <button type="submit" class="btn-primary btn-shape-md" data-equal-width>{% trans %} lender-dashboard-sponsorship_section-send-button-submit {% endtrans %}</button>
                                    <button type="button" class="btn-default btn-shape-md margin-10-l" data-equal-width data-modal-toggle="#preview-email-dialog">{% trans %} lender-dashboard-sponsorship_section-send-button-preview {% endtrans %}</button>
                                </p>
                            </form>
                        </div>
                    </div>
                </article>
                <script>
                    function share(network, element) {
                        var url = encodeURI(element.getAttribute('data-share'))
                        if (network === 'facebook') {
                            var id = element.getAttribute('data-share-app-id')
                            window.open('https://www.facebook.com/dialog/share?app_id=' + id + '&href=' + url, 'facebookWindow', 'width=650,height=350')
                        }
                        if (network === 'twitter') {
                            var text = encodeURI(element.getAttribute('data-share-text'))
                            window.open('http://twitter.com/home?status=' + text + ' - ' + url, 'twitterWindow', 'width=650,height=350')
                        }
                        if (network === 'linkedin') {
                            var text = encodeURI(element.getAttribute('data-share-text'))
                            var title = encodeURI(element.getAttribute('data-share-title'))
                            window.open( 'http://www.linkedin.com/shareArticle?mini=true&url=' + url + '&title=' + title + '&text=' + text + ' - ' + url, 'linkedinWindow', 'width=650,height=450, resizable=1')
                        }
                    }
                    function copyTextToClipboard(button, text) {
                        var buttonText = button.getAttribute('data-updatedbuttontext')
                        button.innerHTML = buttonText
                        var textArea = document.createElement("textarea")
                        textArea.style.position = 'fixed'
                        textArea.style.top = 0
                        textArea.style.left = 0
                        textArea.style.width = '2em'
                        textArea.style.height = '2em'
                        textArea.style.padding = 0
                        textArea.style.border = 'none'
                        textArea.style.outline = 'none'
                        textArea.style.boxShadow = 'none'
                        textArea.style.background = 'transparent'
                        textArea.value = text
                        document.body.appendChild(textArea)
                        textArea.select()
                        try {
                            document.execCommand('copy')
                        } catch (err) {}
                        document.body.removeChild(textArea)
                    }
                </script>
                <article class="panel" id="user-preter-sponsorship-social">
                    <h4 class="remove-margin-t">{% trans %} lender-dashboard-sponsorship_section-share-title {% endtrans %}</h4>
                    <a role="button" class="btn-facebook" title="{% trans %} lender-dashboard-sponsorship_section-share-facebook {% endtrans %}" data-share="{{ sponsorLink }}" data-share-app-id="{{ fbAppId }}" onclick="share('facebook', this)">
                        <span class="sr-only">{% trans %} lender-dashboard-sponsorship_section-share-facebook {% endtrans %}</span>
                    </a>

                    <a role="button" class="btn-twitter margin-5-l" title="{% trans %} lender-dashboard-sponsorship_section-share-twitter {% endtrans %}" data-share="{{ sponsorLink }}" data-share-text="{{ shareText }}" onclick="share('twitter', this)">
                        <span class="sr-only">{% trans %} lender-dashboard-sponsorship_section-share-twitter {% endtrans %}</span>
                    </a>

                    <a role="button" class="btn-linkedin margin-5-l" title="{% trans %} lender-dashboard-sponsorship_section-share-linkedin {% endtrans %}" data-share="{{ sponsorLink }}"  data-share-text="{% trans %} lender-dashboard-sponsorship_section-share-text {% endtrans %}" data-share-title="{% trans %} lender-dashboard-sponsorship_section-share-title {% endtrans %}" onclick="share('linkedin', this)">
                        <span class="sr-only">{% trans %} lender-dashboard-sponsorship_section-share-linkedin {% endtrans %}</span>
                    </a>
                </article>
                <article class="panel" id="user-preter-sponsorship-link">
                    <h4 class="remove-margin-t">{% trans %} lender-dashboard-sponsorship_section-link-title {% endtrans %}</h4>
                    <input type="text" id="user-preter-sponsorship-link-input" name="disabled" value="{{ sponsorLink }}" class="input-field margin-10-r margin-10-b pull-left" disabled="disabled">
                    <button class="btn-primary btn-shape-sm" onclick="copyTextToClipboard(this, '{{ sponsorLink }}')" data-updatedbuttontext="{% trans %} lender-dashboard-sponsorship_section-link-button-updated {% endtrans %}">{% trans %} lender-dashboard-sponsorship_section-link-button {% endtrans %}</button>
                </article>
                <article class="panel" id="user-preter-sponsorship-conditions">
                    <h5 class="remove-margin">{% trans %} lender-dashboard-sponsorship_section-conditions-title {% endtrans %}</h5>
                    <div class="row">
                        <div class="col-md-10 col-lg-10">
                            <p class="c-t2 margin-10-b" style="line-height: 20px; text-align: justify;">
                                <small>
                                    {% trans %} lender-dashboard-sponsorship_section-conditions-text {% endtrans %}
                                </small>
                            </p>
                        </div>
                    </div>
                </article>

            </div><!-- /.dashboard-tab-pane -->
        </div><!-- /.dashboard-tabs-content -->
    </div><!-- /.dashboard-tabs -->
{% endblock %}

{% block modals %}
    <div id="preview-email-dialog" data-modal data-modal-maxwidth="600">
        <div class="modal-body">
            <h3 class="dialog-title">
                {% trans %} lender-dashboard-sponsorship_modal-preview-title {% endtrans %}
            </h3>
            <div class="dialog-message">
                <div id="preview-email-container" class="bg-bg2">
                    {% trans with {'%sponsorLink%': sponsorLink, '%sponsorNames%': sponsorNames} %} lender-dashboard-sponsorship_modal-preview-text {% endtrans %}
                </div>
            </div>
        </div>
        <footer class="modal-footer">
            <a href="javascript:;" class="btn-outline" data-modal-doactioncancel>{% trans %} lender-dashboard-sponsorship_modal-preview-button-close {% endtrans %}</a>
        </footer>
    </div><!-- /#preview-email-dialog -->
{% endblock %}
