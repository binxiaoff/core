{% extends 'partner_account/_layout.html.twig' %}

{% set page = {
id: 'partner-account-project-request',
classNames: 'partner-account'
} %}

{% set estimation = {
    eligible: 1,
    amount: 100000,
    duration: 3,
    reasonId: 1,
    siren: '326300159',
    company: 'Télévison Française',
    email: 'prospect@uncar.fr',
    fundingPeriod: 2,
    prospectStatus: 'prospecter'
} %}

{% block dashboardContent %}
    <section class="dashboard-tabs tabs">
        <div class="dashboard-tabs-content tab-content">
            <article class="dashboard-tab-pane">
                <div class="panel">
                    <header class="panel-header">
                        <h3>{% trans %} partner-project-request_title_eligibility {% endtrans %}</h3>
                    </header>
                    <form action="{{ path('partner_project_request_details') }}" method="post" id="emprunter-sim-partner" class="emprunter-sim emprunter-sim-partner">
                        <fieldset class="emprunter-sim-pane-inner emprunter-sim-pane-inner-content" data-formvalidation data-formvalidation-notificationselem=".form-validation-notifications">
                            <div class="form-validation-notifications"></div>
                            <div class="row">

                                {#<h4>{% trans %} partner-project-request_simulator-step-2-title {% endtrans %}</h4>#}

                            </div>
                            <div class="row">
                                <dl class="col-sm-4 col-md-6 col-lg-6">
                                    <dt>{% trans %} partner-project-request_simulator-step-2-company-field-label {% endtrans %}</dt>
                                    <dd><strong class="ui-esim-output-company">{{ estimation.company }}</strong></dd>
                                </dl>
                                <dl class="col-sm-4 col-md-6 col-lg-6">
                                    <dt>{% trans %} partner-project-request_simulator-step-2-siren-field-label {% endtrans %}</dt>
                                    <dd><strong class="ui-esim-output-siren">{{ estimation.siren }}</strong></dd>
                                </dl>
                                <dl class="col-sm-4 col-md-6 col-lg-6">
                                    <dt>{% trans %} partner-project-request_simulator-step-2-amount-field-label {% endtrans %}</dt>
                                    <dd><strong class="ui-esim-output-cost">{{ estimation.amount }}</strong></dl>
                                </dl>
                                <dl class="col-sm-4 col-md-6 col-lg-6">
                                    <dt>{% trans %} partner-project-request_simulator-step-2-duration-field-label {% endtrans %}</dt>
                                    <dd><strong class="ui-esim-output-duration">{% trans with {'%estimationDuration%' : estimation.duration} %} partner-project-request_simulator-step-2-duration-month {% endtrans %}</strong></dd>
                                </dl>
                             </div>
                            {#<div class="row">#}
                                {#<div class="col-xs-2 col-sm-2 col-md-3 col-lg-3">#}
                                    {#<span>{% trans %} partner-project-request_simulator-funding-duration-label {% endtrans %}</span>#}
                                    {#<strong class="ui-esim-funding-duration-output"></strong>#}
                                {#</div>#}
                                {#<div class="col-xs-2 col-sm-2 col-md-3 col-lg-3">#}
                                    {#<strong class="ui-esim-funding-duration-output">#}
                                        {#{% transchoice estimation.fundingPeriod %} partner-project-request_simulator-footer-funding-duration-value {% endtranschoice %}#}
                                    {#</strong>#}
                                {#</div>#}
                            {#</div>#}
                        </fieldset><!-- /.emprunter-sim-pane-inner -->
                        <div class="emprunter-sim-pane-inner emprunter-sim-pane-inner-results bg-p1 c-bg5">
                            <div class="row">
                                <div class="col-xs-4">
                                    <p>Nos statistiques nous permettent d'estimer la vitesse de financement et le montant des mensualités pour des projets similaires : </p>
                                    <dl class="list-2col">
                                        <dt id="esim-label-amount">Si vous empruntez :</dt>
                                        <dd id="esim-output-amount">100&nbsp;000&nbsp;€</dd>
                                        <dt id="esim-label-duration">Votre argent sera disponible en :</dt>
                                        <dd id="esim-output-duration">1 jour</dd>
                                    </dl>
                                </div>
                            </div>
                        </div><!-- /.emprunter-sim-pane-inner -->
                        <footer class="emprunter-sim-pane-inner emprunter-sim-pane-inner-actions bg-p1 c-bg5 text-align-center">
                            <div class="row">
                                <div class="col-xs-4">
                                    <input type="hidden" id="esim-input-status" name="esim[status]" value="{{ estimation.prospectStatus }}">
                                    <button class="btn-abandon btn-alternate" data-equal-width data-form-submit="#emprunter-sim-partner" data-form-action-url="{{ path('partner_projects_list') }}">
                                        {% trans %} Abandonner {% endtrans %}
                                    </button>
                                    <button class="btn-prospect btn-alternate" data-equal-width data-form-submit="#emprunter-sim-partner" data-form-action-url="{{ path('partner_projects_list') }}">
                                        {% trans %} partner-project-request_simulator-footer-prospect-button {% endtrans %}
                                    </button>
                                    {% if estimation.eligible == 1 %}
                                        <button class="btn-submit btn-alternate" data-equal-width data-form-submit="#emprunter-sim-partner" data-form-action-url="{{ path('partner_project_request_details_form') }}">
                                            {% trans %} partner-project-request_simulator-footer-submit-button {% endtrans %}
                                        </button>
                                    {% endif %}
                                </div>
                            </div>
                        </footer><!-- /.emprunter-sim-pane-inner -->
                    </form><!-- /.emprunter-sim -->
                </div>

            </article><!-- /.dashboard-tab-pane -->
        </div><!-- /.dashboard-tabs-content -->
    </section><!-- /.dashboard-tabs -->
{% endblock %}

{% block modals %}

    <div id="modal-partner-prospect-abandon" data-modal>
        <div class="modal-body text-align-center">
            <p>{% trans %} partner-project-list_popup-prospect-abandon-message {% endtrans %}</p>
            <div class="form-field">
                <select name="prospect-abandon-motif" id="prospect-abandon-motif" class="input-field">
                    <option value="0">Sélectionnez</option>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <option value="3">Option 3</option>
                    <option value="4">Option 4</option>
                </select>
            </div>
        </div>
        <footer class="modal-footer">
            <div class="btn-controls">
                <a href="javascript:;" class="btn-default" data-modal-doactioncancel>
                    {% trans %} partner-project-list_popup-prospect-cancel-ko {% endtrans %}
                </a>
                <a href="javascript:;" class="btn-primary" data-modal-doactionsubmit data-form-target="#emprunter-sim-partner" data-form-action-url="{{ path('partner_projects_list') }}">
                    {% trans %} partner-project-list_popup-prospect-cancel-ok {% endtrans %}
                </a>
            </div>
        </footer>
    </div><!-- /#modal-partner-prospect-cancel -->

{% endblock %}