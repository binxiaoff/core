{% extends 'partner_account/_layout.html.twig' %}

{% set page = {
    id: 'partner-account-project-request',
    classNames: 'partner-account'
} %}

{% set
projectAmountMin = '0'
%}
{% set
projectAmountMax = '100000'
%}
{% set
borrowingMotives = {
    motive : {
        id_motive : 1
    }
}
%}
{% set
loanPeriods = {
    period : '3'
}
%}


{% block dashboardContent %}
    <section class="dashboard-tabs tabs">
        <div class="dashboard-tabs-content tab-content">
            <article class="dashboard-tab-pane">
                <div class="panel">
                    <header class="panel-header">
                        <h3>{% trans %} partner-project-request_title {% endtrans %}</h3>
                    </header>

                    <form action="{{ path('project_simulator_form') }}" method="post" class="emprunter-sim tabs ui-tabs-progress">
                        <div class="emprunter-sim-nav">
                            <ul class="nav nav-steps" role="tablist">
                                <li role="presentation" class="active">
                                    <a href="#esim1-partner" role="tab" data-toggle="tab">{% trans %} home-borrower_simulator-step-1 {% endtrans %}</a>
                                </li>
                                <li role="presentation">
                                    <a href="#esim2-partner" role="tab" data-toggle="tab">{% trans %} home-borrower_simulator-step-2 {% endtrans %}</a>
                                </li>
                            </ul>
                        </div><!-- /.emprunter-sim-nav -->

                        <div class="tab-content emprunter-sim-content emprunter-sim-content-partner">
                            <div id="esim1-partner" role="tabpanel" class="tab-pane active">
                                <fieldset class="emprunter-sim-pane-inner" data-formvalidation data-formvalidation-notificationselem=".form-validation-notifications">
                                    <div class="form-validation-notifications"></div>
                                    <div class="row row-multicol-computer">
                                        <div class="form-field col-lg-6 col-md-6">
                                            <label for="esim-input-amount">{% trans %} home-borrower_simulator-amount-field-title {% endtrans %}
                                                <span class="c-t3">{% trans %} home-borrower_simulator-amount-field-addition {% endtrans %}</span>
                                            </label>
                                            <input id="esim-input-amount" type="text" step="any" name="esim[amount]" value=""
                                                   placeholder="{% trans %} home-borrower_simulator-amount-field-placeholder {% endtrans %}"
                                                   class="input-field"
                                                   data-formvalidation-minvalue="{{ projectAmountMin }}" data-formvalidation-maxvalue="{{ projectAmountMax }}" data-formvalidation-input
                                                   data-formvalidation-required="true">
                                        </div>
                                        <div class="form-field col-lg-6 col-md-6">
                                            <label for="esim-input-reason">{% trans %} home-borrower_simulator-borrowing-motif-title {% endtrans %}</label>
                                            <select id="esim-input-reason" name="esim[reason]" class="input-field" data-formvalidation-input data-formvalidation-required="true" data-formvalidation-type="motive">
                                                <option value="">{% trans %} home-borrower_simulator-borrowing-motif-select {% endtrans %}</option>
                                                {% for motive in borrowingMotives %}
                                                    <option value="{{ motive.id_motive }}">{{ ('borrowing-motive_motive-' ~ motive.id_motive)|trans }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row row-multicol-computer">
                                        <div class="form-field col-lg-12 col-md-12">
                                            <label>{% trans %} home-borrower_simulator-borrowing-period-title {% endtrans %}</label>
                                            <div class="custom-input-duration" data-formvalidation-input data-formvalidation-required="true" data-formvalidation-type="duration">
                                                {% for period in loanPeriods %}
                                                    <label>
                                                        <input type="radio" id="esim-input-duration-{{ period }}" name="esim[duration]" value="{{ period }}">
                                                        <span class="label">{{ period }}</span>
                                                    </label>
                                                {% endfor %}
                                            </div><!-- /.custom-input-duration -->
                                        </div><!-- /.form-field -->
                                    </div>
                                    <div class="row row-multicol-computer">
                                        <div class="form-field col-lg-6 col-md-6">
                                            <label for="esim-input-siren">{% trans %} home-borrower_simulator-siren-field-label {% endtrans %}</label>
                                            <input type="text" id="esim-input-siren" name="esim[siren]" value="" class="input-field" data-formvalidation-input data-formvalidation-required="true" data-formvalidation-type="siren">
                                        </div><!-- /.form-field -->
                                        <div class="form-field col-lg-6 col-md-6">
                                            <label for="i_esim_5">{% trans %} home-borrower_simulator-email-field-label {% endtrans %}</label>
                                            <div class="input-group">
                                                <input type="email" id="esim-input-email" name="esim[email]" value="" class="input-field" data-formvalidation-input data-formvalidation-required="true" data-formvalidation-type="email">
                                            </div><!-- /.input-group -->
                                        </div><!-- /.form-field -->
                                    </div>
                                </fieldset><!-- /.emprunter-sim-pane-inner -->
                            </div><!-- /.tab-pane -->

                            <div id="esim2-partner" role="tabpanel" class="tab-pane">
                                <fieldset class="emprunter-sim-pane-inner" data-formvalidation data-formvalidation-notificationselem=".form-validation-notifications">
                                    <div class="form-validation-notifications"></div>
                                    <div class="row">
                                        <h4>Synthèse de votre besoin</h4>
                                        </div>
                                    <div class="row">
                                        <dl class="col-sm-4 col-md-6 col-lg-6">
                                            <dt>Nom de la societe</dt>
                                            <dd><strong class="ui-esim-output-company"></strong></dd>
                                        </dl>
                                        <dl class="col-sm-4 col-md-6 col-lg-6">
                                            <dt>SIREN</dt>
                                            <dd><strong class="ui-esim-output-siren"></strong></dd>
                                        </dl>
                                    </div>
                                    <div class="spacer"></div>
                                    <div class="row">
                                        <dl class="col-sm-4 col-md-6 col-lg-6">
                                            <dt>Somme à emprunter</dt>
                                            <dd><strong class="ui-esim-output-cost"></strong></dl>
                                        </dl>
                                        <dl class="col-sm-4 col-md-6 col-lg-6">
                                            <dt>Duration</dt>
                                            <dd><strong class="ui-esim-output-duration"></strong></dd>
                                        </dl>
                                    </div>
                                </fieldset><!-- /.emprunter-sim-pane-inner -->

                                <div class="emprunter-sim-pane-inner bg-p1 c-bg5">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <span>Temps de financement estimé:</span>
                                            <strong class="ui-esim-funding-duration-output"></strong>
                                        </div>
                                    </div>
                                </div>

                                {#<p data-borrower-motive>{% trans %} home-borrower_simulator-step-2-text-for-motive {% endtrans %}</p>#}
                                {#<p>{% trans %} home-borrower_simulator-step-2-text-fill-field {% endtrans %}</p>#}

                            </div><!-- /.tab-pane -->
                        </div><!-- /.tab-content -->

                        <div class="emprunter-sim-actions-partner">
                            <div class="emprunter-sim-pane-inner">
                                <div class="row">
                                    <div class="col-xs-4 col-sm-8 col-md-12 col-lg-12">
                                        <a href="#esim2-partner" role="tab" data-toggle="tab" class="btn-continue btn-primary">
                                            {% trans %} home-borrower_simulator-footer-continue-button {% endtrans %}
                                        </a>
                                        <button class="btn-cancel btn-default btn-shape-sm">
                                            Abandonner
                                        </button>
                                        <button class="btn-prospect btn-alternate btn-shape-sm">
                                            Prospecter
                                        </button>
                                        <button class="btn-submit btn-primary btn-shape-sm" data-spinnerbutton>
                                            Déposer le dossier
                                        </button>
                                    </div>
                                </div>
                            </div><!-- /.emprunter-sim-pane-inner -->
                        </div><!-- /.emprunter-sim-estimate -->
                    </form><!-- /.emprunter-sim -->
                </div>
            </article><!-- /.dashboard-tab-pane -->
        </div><!-- /.dashboard-tabs-content -->
    </section><!-- /.dashboard-tabs -->
{% endblock %}
