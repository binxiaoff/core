{% extends 'lender_account/_layout_lender.html.twig' %}

{% set page = {
    id: 'user-preter-profile',
    title: 'lender-data-update_details-page-title'|trans,
    classNames: 'user-preter-profile'
} %}

{% form_theme form '/frontbundle/forms/fields.html.twig' %}

{% block dashboardContent %}
    <div class="dashboard-tabs tabs">
        {% include 'lender_profile/partials/tab_navigation.html.twig' with {'isDataUpdate': true} %}
        <div class="dashboard-tabs-content tab-content">
            {{ form_start(form, {
                'multipart' : true,
                'attr' : {
                    'class' : 'form-profile form-data-update-info-edit',
                    'data-formvalidation data-formvalidation-notificationselem' : '#form-data-update-info-notifications'
                }}) }}
            <div id="data-update-section" role="tabpanel" class="dashboard-tab-pane tab-pane active ui-toggle-group">
                <div class="data-update-progress" data-progressbar data-progressbar-current="1" data-progressbar-total="8">
                    <div data-progressbar-bar></div>
                </div>
                <article id="panel-data-update-identity" class="panel collapse in">
                    <header class="panel-header">
                        <h3>{% trans %} lender-data-update_identity-section-title {% endtrans %}</h3>
                    </header>
                    <section id="data-update-info-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">
                        {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                            {% include 'lender_data_update/partials/person_identity.html.twig' %}
                        {% endif %}
                    </section><!-- /.ui-toggle-group -->
                </article><!-- /.panel -->

                <article id="panel-data-update-id-doc" class="panel collapse">
                    <header class="panel-header">
                        <h3>{% trans %} lender-data-update_id-doc-section-title {% endtrans %}</h3>
                    </header>
                    <section id="data-update-id-doc-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">
                        {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                            {% include 'lender_data_update/partials/person_id_doc.html.twig' %}
                        {% endif %}
                    </section><!-- /.ui-toggle-group -->
                </article><!-- /.panel -->

                <article id="panel-data-update-telephone" class="panel collapse">
                    <header class="panel-header">
                        <h3>{% trans %} lender-data-update_telephone-section-title {% endtrans %}</h3>
                    </header>
                    <section id="data-update-telephone-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">
                        {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                            {% include 'lender_data_update/partials/person_telephone.html.twig' %}
                        {% endif %}
                    </section><!-- /.ui-toggle-group -->
                </article><!-- /.panel -->

                <article id="panel-data-update-main-address" class="panel collapse">
                    <header class="panel-header">
                        <h3>{% trans %} lender-data-update_main-address-section-title {% endtrans %}</h3>
                    </header>
                    <section id="data-update-main-address-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">
                        {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                            {% include 'lender_data_update/partials/person_main_address.html.twig' %}
                        {% endif %}
                    </section><!-- /.ui-toggle-group -->
                </article><!-- /.panel -->

                <article id="panel-data-update-bank-account" class="panel collapse">
                    <header class="panel-header">
                        <h3>{% trans %} lender-data-update_bank-account-section-title {% endtrans %}</h3>
                    </header>
                    <section id="data-update-bank-account-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">
                        {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                            {% include 'lender_data_update/partials/person_bank_account.html.twig' %}
                        {% endif %}
                    </section><!-- /.ui-toggle-group -->
                </article><!-- /.panel -->

                <article id="panel-data-update-funds-origin" class="panel collapse">
                    <header class="panel-header">
                        <h3>{% trans %} lender-data-update_funds-origin-section-title {% endtrans %}</h3>
                    </header>
                    <section id="data-update-funds-origin-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">
                        {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                            {% include 'lender_data_update/partials/person_funds_origin.html.twig' %}
                        {% endif %}
                    </section><!-- /.ui-toggle-group -->
                </article><!-- /.panel -->

                {% if client.type in [constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON'), constant('\\Unilend\\Bundle\\CoreBusinessBundle\\Entity\\Clients::TYPE_PERSON_FOREIGNER')] %}
                    <article id="panel-data-update-us-person" class="panel collapse">
                        <section id="data-update-us-person-section" role="tablist" class="ui-toggle-group" aria-multiselectable="true">

                            {% include 'lender_data_update/partials/us_person.html.twig' %}

                        </section><!-- /.ui-toggle-group -->
                    </article><!-- /.panel -->
                {% endif %}

                <p class="pull-right">
                    <a href="{{ path('lender_dashboard') }}">{% trans %} lender-data-update_finish-later {% endtrans %}</a>
                </p>
            </div>
            {{ form_end(form) }}
        </div>
    </div>
{% endblock %}
