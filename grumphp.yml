grumphp:
    git_hook_variables:
        EXEC_GRUMPHP_COMMAND: 'docker exec backend.api'
    fixer:
        enabled: true
        fix_by_default: true
    tasks:
        shell:
            metadata:
                label: cache
                priority: 1
            scripts:
                - ["-c", "[ -e var/cache/dev/KLS_KernelDevDebugContainer.php ] || APP_DEBUG=1 bin/console cache:warmup"]
        git_blacklist:
            keywords: ['dump(', '>>>>', '<<<<']
            triggered_by: ['php', 'js', 'css', 'scss', 'twig', 'xml']
            regexp_type: G
        phpcsfixer:
            allow_risky: true
            config: .php_cs
        phpcs:
            report_width: 120
            exclude:
                - "PHPCS_SecurityAudit.BadFunctions.CallbackFunctions"
                - "PHPCS_SecurityAudit.BadFunctions.FilesystemFunctions"
                - "PHPCS_SecurityAudit.BadFunctions.PregReplace"
                - "PHPCS_SecurityAudit.Drupal7.DynQueries"
            ignore_patterns:
                - config/
        phpstan: ~
